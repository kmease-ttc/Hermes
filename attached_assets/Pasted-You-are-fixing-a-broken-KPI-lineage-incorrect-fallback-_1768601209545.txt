You are fixing a **broken KPI lineage + incorrect fallback rendering bug** in the Capabilities & Performance dashboard.

## What the Bug Looks Like (Concrete Example)

On Capabilities & Performance:

* Scotty’s card shows:

  * A blank bar
  * A “Sample” badge
  * No numeric value

But on Scotty’s individual dashboard:

* Crawl Health has a real value (e.g. 91%)
* The metric is computed, stored, and displayed correctly

This means:

* The Capabilities card is **not bound to Scotty’s real KPI**
* The UI is falling back to a “sample / placeholder” path **even when real data exists**

This is a lineage failure, not a styling issue.

---

## Root Cause to Fix

Capabilities & Performance is:

* Using a **different data source** than the crew dashboards
* OR using a registry stub that defaults to `sample=true`
* OR rendering before real KPI hydration and never re-binding

As a result, the card renders a **sample shell** instead of the real metric.

---

## Required Fix (Do All of These)

### 1. Make Crew KPI the Single Source of Truth

Each crew member must expose **one canonical KPI object**, for example:

```
CrewKpiSnapshot {
  crewId
  primaryMetric: {
    key
    label
    value
    unit
    trend
    status
    isSample
  }
  lastUpdated
}
```

This object must be:

* Created from the **same logic used on the crew dashboard**
* Reused by Capabilities & Performance
* Never duplicated or re-derived

---

### 2. Bind Capabilities Cards Directly to Crew KPI Snapshots

Each card must explicitly reference its crew snapshot:

```
const kpi = getCrewKpiSnapshot("scotty")

renderValue = kpi.primaryMetric.value
renderSampleBadge = kpi.primaryMetric.isSample
```

No hardcoded defaults.
No inferred values.
No UI-side “guessing”.

If the crew dashboard has a value, the card must show it.

---

### 3. Remove Silent Sample Fallbacks

Right now the UI is doing something equivalent to:

```
if (!value) showSample()
```

This is wrong.

Replace with:

* If KPI exists → render it
* If KPI exists AND isSample → show “Sample”
* If KPI does not exist → show explicit state:

  * “Awaiting crawl”
  * “Not configured”

**Never render a blank bar with a Sample badge if real data exists.**

---

### 4. Enforce One-to-One Parity (No Drift Allowed)

Add a guardrail:

For every crew member:

* If their dashboard renders a primary KPI value
* Then Capabilities & Performance **must render the same value**

If not:

* Throw an error
* Or log a lineage violation

This prevents regressions.

---

## Acceptance Criteria (Must Pass Visually)

* Scotty’s Capabilities card shows the same Crawl Health value as Scotty’s dashboard
* The bar is filled (not blank)
* “Sample” only appears if the underlying KPI is actually marked `isSample=true`
* No card shows a dash or empty bar when real data exists
* Capabilities & Performance becomes a **pure projection layer**, not a second brain

Do not redesign UI.
Do not add new metrics.
Do not add fake values.

Fix lineage, binding, and fallback logic only.
