Crew Dashboard Layout Framework (Standardized Across All Crew)

Goal
Every crew dashboard (Speedster, Natasha, Scotty, etc.) must use the **exact same page structure** and should **mirror Mission Control** so the product feels coherent and predictable. Each crew then customizes only the KPI content + Details/Inspector content, while layout, spacing, and behaviors remain consistent.

Keep the “monitors” descriptor at the top (the small pill/tags that describe what the crew monitors). That stays.

---

## Standard Crew Page Layout (Top → Bottom)

1. Header (Crew Identity + Controls)

* Left:

  * Crew name (e.g., “Natasha”)
  * Subtitle (role name, e.g., “Competitive Intelligence”)
  * One-line description
  * “Monitors” pills (keep these)
* Right:

  * Agent Score (always visible; use last-known value or neutral if missing)
  * Refresh button
  * Settings button

Rules:

* Header must never disappear due to data failures.
* Refresh re-fetches all crew data and resets widget states to loading.

---

2. Mission Status Widget (Crew-scoped)
   Place directly below the header.

Purpose:

* Simple “are we good?” status
* What’s next
* One-button “Fix Everything” for this crew’s uncovered items (crew-scoped)

Contents (consistent across all crews):

* Status badge: Looking good / Doing okay / Needs attention
* One-line explanation
* 2–3 summary counts (crew-scoped)
* Primary CTA: Fix Everything
* Secondary CTA: Go to Next Mission

Behavior:

* Fix Everything triggers the same “create one consolidated fix set/PR” flow as Mission Control, but filtered to this crew’s findings.
* Go to Next Mission scrolls/jumps to the top mission in the Missions list and opens/focuses it.
* If integrations fail, Mission Status still renders with fallback copy + “Configure / Retry”.

---

3. Missions Widget (Crew-scoped Mission Queue)
   Below Mission Status, same component and UX pattern as Mission Control.

Contents:

* Mission list for this crew only (prioritized)
* Each mission shows:

  * Title
  * Short reason/expected outcome
  * Status (Pending / In progress / Done / Blocked)
  * Primary actions (Approve / Run / Fix / View details — depending on your system)
* Approve buttons must update state immediately (no dead buttons).

Rules:

* The mission system is the same across all pages; only the mission content differs.
* No page-level hard failures. If missions fail to load, show empty/degraded state in this widget only.

---

4. KPIs Widget (Crew-scoped KPI Strip)
   Below Missions, show KPIs in a consistent strip/grid.

Standard KPI rules:

* Always show 6–10 KPI cards maximum (consistent count per crew if possible)
* Each KPI card has:

  * Label
  * Value
  * Delta (optional)
  * Short helper tooltip
* If KPI data is missing, show skeleton + fallback (“Data not available yet”).

Speedster already has KPIs — reconcile them into this same KPI strip component.

---

5. Details / Inspector Area (Crew-specific, below fold)
   Below KPIs is the “deep dive” section, but still follows a common pattern.

Common structure:

* Left: Filters / Sections nav (optional) OR tab row
* Right: Detail panel / table / charts

Standard tabs (same across crews):

* Overview
* Findings
* Trends
* Recommendations
* Raw / Logs (optional)

Each crew fills these with its own content:

* Speedster: performance, CWV, page-level findings, breakdowns
* Natasha: competitors, rank deltas, gaps, SoV, SERP features
* Scotty: technical SEO, crawl errors, headers, schema, etc.

Rules:

* Keep the same tab names and layout shell, even if some tabs are “Coming soon” for a crew.
* No giant red error blocks; use per-panel degraded states.

---

## Data & Error Resilience (Required Everywhere)

* Never block rendering on API calls.
* Each widget supports: loading / ready / empty / unavailable (degraded) states.
* If a crew integration is down:

  * Page loads normally
  * Widgets show graceful fallback and a “Retry / Configure” CTA
  * No full-page “Failed to load” screen.

---

## Implementation Plan (Make It a Reusable Framework)

1. Create a shared “CrewDashboardShell” layout component

* Example path:

  * `client/src/pages/crew/CrewDashboardShell.tsx`
* It accepts:

  * crew metadata (name, subtitle, description, monitors pills)
  * mission data + handlers
  * KPI config + data
  * details renderer (crew-specific child component)

2. Create shared widgets (reused by Mission Control and all crews)

* `MissionStatusWidget` (already exists on Mission Control; make it reusable + crew-scoped)
* `MissionsWidget` (shared)
* `KpiStripWidget` (shared)

3. Refactor Mission Control to use the same widgets

* Mission Control becomes the “All crews / portfolio view”
* Crew pages become “Single crew scoped view”
* Same components, different data filters

4. Reconcile Speedster

* Keep its existing data + charts
* Move Speedster into the standardized shell:

  * Header + monitors pills
  * Mission Status
  * Missions
  * KPI strip
  * Details (Speedster-specific content)
* Remove any one-off layouts that don’t match the shell.

---

## Acceptance Criteria

* Every crew page has the same layout in the same order:

  1. Header + monitors
  2. Mission Status
  3. Missions
  4. KPIs
  5. Details/Inspector
* Styling, spacing, and widget behavior match Mission Control
* No crew page hard-fails due to missing integrations
* Speedster matches the framework with minimal cont
