Replit Prompt: IA Cleanup — Fold “Sites” into Mission Control + Move Sites Management into Settings (Remove from Left Nav)

Goal
Simplify the left nav and reduce redundant pages by:

1. Making Mission Control site-switchable via a dropdown (no separate Sites page needed for day-to-day usage).
2. Moving the “Sites” management UI into Settings and removing “Sites” from the left-hand nav.

Part 1 — Mission Control: add Site dropdown (replaces fixed site name)
Current
Mission Control header is hardcoded like:
“Mission Control — Run Diagnostic Report for Empathy Health Clinic”

Change

* Replace the hardcoded site name with a Site dropdown selector in the Mission Control header area.
* The dropdown should let the user select the active site.
* Selecting a site updates:

  * the header text
  * any metrics/diagnostics queries
  * Run Diagnostics / Export Fix Pack actions (they should run for the selected site)
* The selected site should persist:

  * URL param (preferred): ?siteId=...
  * plus localStorage fallback

Implementation details

* Add a SiteSelector component (shared) that:

  * fetches available sites from the backend (GET /api/sites)
  * shows the current site’s display name + domain
  * updates Mission Control queries when changed
* On Mission Control page load:

  * if siteId in URL → use it
  * else if lastSiteId in localStorage → use it
  * else default to first site

Part 2 — Remove “Sites” from the left nav

* Delete the “Sites” nav item.
* Ensure any routes still referenced don’t break:

  * If /sites exists, keep it as a redirect to /settings#sites (or /settings?tab=sites)
  * Add a simple “This moved” message if needed.

Part 3 — Settings: add a “Sites” section (move existing Sites UI here)
Current
Sites page contains UI for viewing/adding/editing sites (or selecting domains).

Change

* Create a Settings section/tab: “Sites”
* Move the Sites page UI into Settings under this section:

  * list sites (name, domain, status)
  * add new site
  * edit site settings (IDs, OAuth mapping, etc.)
  * delete/disable site if supported
* Ensure the same API endpoints are used (no duplicate logic).
* Keep styling consistent with the cold glass Settings layout.

Recommended Settings IA (top-level)

* Vault & Credentials
* Google Authentication
* Sites (new)
* Data Sources
* Advanced / Diagnostics (optional)

Part 4 — Ensure Integrations + Mission Control use the selected site

* Integrations already has a site dropdown; align it with the same SiteSelector component so behavior matches.
* Use the same “current site” state across pages:

  * shared hook: useCurrentSite()
  * reads URL param/localStorage
  * provides setCurrentSite()

Acceptance criteria

* Mission Control has a site dropdown in the header and works for any site.
* “Sites” no longer appears in left nav.
* Site management is available under Settings → Sites.
* /sites route does not break (redirects to Settings → Sites).
* One shared SiteSelector component is used across Mission Control + Integrations (no drift).

Do this now

1. Build shared SiteSelector + useCurrentSite hook
2. Update Mission Control header + queries to use selected site
3. Move Sites UI into Settings
4. Remove Sites from nav + add redirect
