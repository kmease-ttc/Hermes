You are a senior front-end + full-stack architect. Clean up and standardize all URL structures in this app so users are never dropped onto dead routes after an action completes.

Context

* The app currently has inconsistent routes (e.g., `/crew/...` vs `/agents/...`) and some flows redirect to URLs that do not exist, causing 404/dead pages.
* This is a production-quality “best practices” routing cleanup. Do it systematically, not piecemeal.
* Keep SEO and shareable links stable where possible. Where not possible, add safe redirects.

Goals

1. Single canonical route scheme (one consistent prefix + nouns) across the entire app.
2. No dead routes. Every internal navigation target must resolve to a valid page.
3. Backwards compatibility: old URLs should continue to work via redirects (or route aliases) with minimal disruption.
4. Centralized route definitions: eliminate scattered string literals for paths.
5. Reliable post-action navigation: after actions complete (run analysis, fix, optimize, save, etc.), the user is redirected to a valid canonical route (preferably the page they were on).

Deliverables
A) A routing map and decisions doc in-code (or in /docs) that lists:

* Canonical routes (the new source of truth)
* Deprecated routes and their redirect targets
* Any routes intentionally removed and why
  B) Implementation changes that include:
* A single route constants module (e.g., `shared/routes.ts`) that defines route builders, not raw strings
* Replacement of all hardcoded path strings with these constants/builders
* A redirect/alias layer so legacy routes work (server-side preferred; client-side acceptable as fallback)
  C) A safety net:
* A NotFound page that offers a “Go back” and “Go to Mission Control” CTA
* Logging/telemetry: log route misses and redirect hits so we can find lingering bad links
  D) Tests:
* Add route tests that assert all canonical routes render
* Add tests that deprecated routes redirect correctly
* Add at least one “post-action navigation” test (e.g., after “Run Analysis” completes, you land on a valid route)

Step-by-step requirements

1. Inventory all routes

   * Search the entire repo for `"/crew"`, `"/agents"`, `navigate(`, `router.push`, `redirect`, `href=`, and any link components.
   * Produce a list of every discovered route and where it’s used.

2. Choose a canonical scheme (and apply consistently)

   * Pick ONE and stick to it (example approach):

     * `/mission-control`
     * `/crew` (list)
     * `/crew/:slug` (crew profile)
     * `/crew/:slug/keywords`
     * `/crew/:slug/competitive-snapshot`
     * `/crew/:slug/content`
     * `/integrations`, `/settings`, etc.
   * If you prefer `/agents` instead of `/crew`, that’s fine—but pick one and make it canonical.
   * Update the sidebar navigation and any deep links to use canonical routes.

3. Implement redirects/aliases for legacy paths

   * If there is a server (Express/Fastify/etc.), implement HTTP redirects:

     * 301 for truly permanent public routes
     * 302 for safety if you’re unsure or want easier rollback
   * If this is a SPA-only router, implement route aliases that immediately navigate to canonical equivalents.
   * Handle both:

     * Exact matches (e.g., `/agents` -> `/crew`)
     * Parameterized routes (e.g., `/agents/:slug` -> `/crew/:slug`)
   * Preserve query params and hash fragments during redirects.

4. Fix “post-action” redirects

   * Identify every place that does “onComplete navigate('/somewhere')”.
   * Replace with a helper (e.g., `navigateToSafeReturn()`), which:

     * Prefers returning to the current crew page
     * Falls back to the crew’s canonical page
     * Falls back to Mission Control
   * Never navigate to a route that is not defined in the route constants module.

5. Hardening and polish

   * Ensure the app never shows a blank page on unknown routes.
   * Ensure “open in new tab” links and copy-link buttons use canonical URLs.
   * Ensure browser back/forward works naturally after redirects.

Acceptance criteria

* Clicking around the app (sidebar + in-page links + action completion flows) never results in a dead page.
* All old `/agents/*` and `/crew/*` variants are supported and resolve to the same canonical pages.
* The route constants module is the only source of truth used across client and server.
* Tests cover the canonical routes and redirect behavior.

Start now

* Begin by scanning the repo to inventory all routes and report the current routing structure.
* Then implement the canonical scheme, redirects/aliases, and refactor usages to route constants.
* Commit as: `chore(routes): canonicalize URLs and add legacy redirects`
