Replit Prompt: Mission Control QA Fix Pack (Split Cards, Export Modal Styling + Failure, Tooltips, Crew Contrast, Recommendations, Benchmarks Page Styling, Action Queue, Knowledge Base Refresh)

We’re QA’ing Mission Control. Treat each item below as a separate fix, but implement them in one cohesive pass (same design system, same components).

1. Priority Actions: split into 3 separate cards
   Current
   Priority Actions renders as one combined panel/list.

Change

* Render each of the three priority actions as its own card.
* Keep the gold attention scheme for the Priority Actions area overall, but each action card should:

  * be a glass card (cold glass)
  * have its own “Review →” CTA
  * retain tags (crew pills + severity)
* Maintain clean spacing/grid (2-up on wide screens, 1-up on mobile).

Acceptance

* 3 distinct cards, visually scannable, consistent with the rest of the UI kit.

2. Export Fix Pack: modal uses old styling
   Current
   Export modal appears (good) but uses legacy styling.

Change

* Convert Export modal to the current glass modal system:

  * same modal container as service inspector modals (cold glass)
  * buttons use shared <Button /> variants (no legacy purple)
  * inputs use shared components
  * semantic warning/info panels use tokens

Acceptance

* Export modal looks like it belongs in the app (no legacy styles).

3. Generate Export returns “Export Failed” (needs actionable error)
   Change

* When export fails, show:

  * error code + message + hint (not just “Export Failed”)
  * request id + timestamp
  * recommended next step (e.g., “Try again”, “View logs”, “Check worker status”)
* Add retry button.
* Log export attempt + failure details in audit log.

Likely cause to check

* worker cold start / endpoint mismatch / missing API keys / missing write permissions.
  Implement the same warm-up + retry logic used for smoke tests before export generation.

Acceptance

* Failures are debuggable and often self-heal via warm-up + retry.

4. Safety settings tooltip (Max changes)
   Add tooltip/help text next to “Max changes”:

* Copy: “Recommended: limit changes per cycle to avoid large-scale ranking volatility. Typically 5–20 changes per cycle depending on site size.”
  (Keep it short. No long essay.)

Acceptance

* Clear guidance without leaving the page.

5. Natasha + Scotty label contrast (and Natasha cannot be red)
   Change

* Replace Natasha’s crew accent color with a non-red option (keep brightness consistent with others).
* Increase Scotty contrast so his pills/labels match Lookout/Sentinel/Popular brightness.
* Ensure crew pills and any crew-identifying UI in Mission Control uses the normalized crew colors (single source of truth).

Acceptance

* Natasha not red; both Natasha and Scotty are as readable as Lookout/Sentinel.

6. Duplicate “Medium” label in Priority Actions
   Current
   Some actions show “Medium” twice (likely confidence + severity both labeled “Medium”).

Change

* De-duplicate labels:

  * If you have two different concepts, rename one:

    * Severity: High/Medium/Low
    * Confidence: High/Medium/Low (or rename to “Confidence: Medium”)
  * Or show only one if redundant.

Acceptance

* No repeated “Medium” with no context.

7. Recommendation quality: blog targeting wrong keyword
   Current
   Recommendation suggests targeting “Telepsychiatry Florida” even though we rank #1.

Change

* Add recommendation guardrails:

  * If rank position is already top 1–3, do not recommend content targeting that exact keyword.
  * Instead recommend:
    A) “High road” (highest volume, hardest): psychiatry/psychiatrist services (core money terms)
    B) “Low road” (lower competition, quick wins): mid/long-tail keywords where current rank is 4–20 and volume is non-trivial
* Generate blog missions using a dual strategy:

  * 1 high-road topic
  * 1 low-road topic
* Update mission text to explain why each was chosen (one line).

Acceptance

* No more wasting missions on already-won keywords.
* Missions reflect a deliberate high/low strategy.

8. Compare Industry Benchmarks page does not follow styling
   Current
   Benchmarks page loads but does not use the Key Metrics card style.

Change

* Rebuild Benchmarks page using the exact Key Metrics card components and styling:

  * same card layout, same charts style, same badges
* Ensure all typography, spacing, and glass surfaces match Mission Control.

Acceptance

* Benchmarks page looks like Mission Control, not a different app.

9. Benchmarks comparison lacks context (“Total sessions” only; can’t tell good/bad)
   Change
   Benchmarks must show:

* the compared date range (from → to)
* the benchmark reference (industry, percentile)
* where the site sits (e.g., P25/P50/P90 labels)
* a clear “status” label (Good / Watch / Needs Improvement) with explanation
* If only one metric is available, show an empty-state explanation and what data is needed to unlock more.

Acceptance

* User can immediately tell:

  * what time range is being measured
  * whether performance is good or bad
  * compared against what benchmark

10. Action Queue does not follow design standard
    Change

* Convert action queue rows/cards to the same glass list pattern used on Integrations Next Actions:

  * readable row backgrounds
  * consistent pills
  * proper hover/CTA affordances
* No hardcoded colors.

Acceptance

* Action Queue matches site design system, scannable and readable.

11. Knowledge Base refresh does nothing
    Change

* Ensure the “Refresh” / “Get insights” action is wired to a real endpoint and updates state.
* Add loading state + success/failure toast.
* If it returns 0 insights, show an empty-state message explaining why (e.g., “No new insights found for this cycle.”) and when it last ran.
* Log the run + result count.

Acceptance

* Clicking refresh reliably does something visible (loading → results or empty-state with explanation).

Implementation priority (do in this order)

1. Priority Actions split + de-duplicate Medium labels
2. Export modal styling + export failure error details + warm-up retry
3. Crew colors: Natasha non-red + Scotty contrast normalization
4. Benchmarks page restyle + add comparison context
5. Action Queue restyle
6. Knowledge Base refresh wiring + empty-state messaging
7. Recommendation guardrails + high/low blog strategy

Do not

* Don’t change the Key Metrics visuals (they’re great).
* Don’t introduce new one-off styles; everything must be from tokens + shared components.
