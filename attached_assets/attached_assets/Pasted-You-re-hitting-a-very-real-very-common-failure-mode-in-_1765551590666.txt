You’re hitting a very real, very common failure mode in AI pipelines, and you’re not crazy — this is not a prompt-tweaking problem anymore. It’s an architecture + enforcement problem.

Below I’ll do three things:
	1.	Explain why this keeps happening (so the fix makes sense)
	2.	Give you a clear strategy that actually enforces diversity + relevance
	3.	Write a copy-pasteable agent prompt that tells the agent exactly how to fix it

No fluff, no “try this wording.”

⸻

1. Why this keeps happening (the root cause)

What you’re seeing is model convergence + caching behavior, not randomness.

Even when you:
	•	vary prompts
	•	add adjectives
	•	pass different businesses

the system still:
	•	converges on a small set of “safe” images
	•	reuses them because they score highest on internal similarity / quality heuristics
	•	sometimes reuses the same latent image seed without you realizing it

This is especially common when:
	•	hero images are generated late in the pipeline
	•	image generation is detached from semantic grounding
	•	there is no hard uniqueness constraint
	•	there is no image memory / fingerprinting

So the model is behaving correctly — just not how you want.

⸻

2. The strategy that actually works (non-negotiable rules)

To fix this for good, you need three enforcement layers, not one.

Layer 1 — Semantic grounding (before image selection)

The image must be tied to what the business actually does, not just “looks professional.”

This means:
	•	Industry
	•	Services
	•	Location
	•	Business type (local service, medical, funding, etc.)

This happens before any image is generated or selected.

⸻

Layer 2 — Image source diversification (AI + stock, not one or the other)

You should support two image paths, chosen dynamically:
	1.	AI-generated images (custom, branded)
	2.	Stock images (but with strict uniqueness rules)

Never rely on only one source.

⸻

Layer 3 — Hard uniqueness enforcement (this is the missing piece)

You must:
	•	fingerprint every image you use
	•	store it
	•	block reuse globally

No exceptions.

This is what you’ve been missing.

⸻

3. The agent prompt (this will fix it)

This is the exact prompt to give your agent.

⸻

IMAGE DIVERSITY & RELEVANCE ENFORCEMENT

Agent Prompt

Objective

Fix the recurring issue where generated websites reuse the same hero images by implementing hard guarantees for relevance and uniqueness.

The system must:
	•	never reuse the same image across sites
	•	always select an image relevant to the business
	•	support both AI-generated and stock images
	•	enforce uniqueness at the system level (not prompt level)

Prompt tweaks alone are NOT acceptable.

⸻

PART 1 — Change Where Image Selection Happens (Critical)

Rule

Hero image selection must happen after business intent is fully resolved, not as a default fallback.

Before selecting or generating an image, extract and normalize:
	•	industry
	•	business type (local service, medical, funding, etc.)
	•	primary services
	•	location
	•	tone (professional, friendly, modern, etc.)

Create a structured object:

image_intent = {
  industry,
  services[],
  business_type,
  location,
  tone
}

This object is the only input allowed into image selection.

⸻

PART 2 — Dual Image Pipeline (Required)

Path A: AI-Generated Images

Use AI generation when:
	•	industry is visual (HVAC, plumbing, medical, construction)
	•	no high-quality stock match exists
	•	customization is preferred

Generation rules:
	•	Generate 3–5 candidates
	•	Use different random seeds
	•	Use the image_intent object explicitly
	•	Disallow “generic business website” language

Select best candidate via:
	•	relevance score
	•	visual clarity
	•	absence of text or logos

⸻

Path B: Stock Images

Use stock images when:
	•	industry fits common visuals
	•	speed is preferred
	•	AI generation quality is inconsistent

Stock selection rules:
	•	Query must include:
	•	industry
	•	service
	•	environment (e.g. “technician in residential home”)
	•	Must return ≥10 candidates
	•	Selection must be random-weighted, not first result

⸻

PART 3 — Global Uniqueness Enforcement (Non-Negotiable)

Image Fingerprinting

For every image (AI or stock):
	•	Compute a perceptual hash (pHash or aHash)
	•	Store hash in used_images table

Before accepting an image:
	•	Compare hash against all existing hashes
	•	If similarity > threshold → reject and select another

This applies globally, not per user.

⸻

Storage Fields

Store:
	•	image_hash
	•	image_source (ai | stock)
	•	industry
	•	services
	•	created_at
	•	site_id

⸻

PART 4 — Fallback Rules (Safety Net)

If:
	•	all AI images fail uniqueness
	•	stock pool exhausted

Then:
	•	Regenerate with a new visual angle, not the same prompt
Example:
	•	Switch from “technician working” → “completed work environment”
	•	Switch from “people” → “tools + environment”

Never reuse an image to unblock the pipeline.

⸻

PART 5 — Validation Before Publish

Before site publish:
	•	Assert hero image:
	•	passed uniqueness check
	•	matches industry
	•	is not on any other site

If validation fails:
	•	block publish
	•	regenerate image automatically

No silent fallback.

⸻

PART 6 — Developer Debugging Tools (Required)

Add:
	•	logging that records:
	•	why an image was selected
	•	why others were rejected
	•	ability to inspect:
	•	image intent
	•	image hash
	•	source

This is critical to prevent future regressions.

⸻

PART 7 — UX Guarantees

From the user’s perspective:
	•	No two Arclo sites should ever look like they share a hero image
	•	Images must obviously match the business
	•	Even similar businesses should feel visually distinct

⸻

Definition of Done
	•	Zero hero image reuse across sites
	•	Images clearly match business intent
	•	Pipeline does not silently fall back
	•	Debugging visibility exists
	•	This problem cannot reappear without a code change

⸻

Why This Will Work

This fixes the issue at the system level, not the prompt level.

You are:
	•	grounding images semantically
	•	enforcing diversity mathematically
	•	blocking fallback shortcuts

That’s why this solves what prompt tweaks couldn’t.

⸻

Optional Next Step (Highly Recommended)

Once this is in place, the next improvement would be:
	•	Style clustering (so similar industries feel cohesive but not identical)

When you’re ready, I can write that prompt too.

If you want, after your agent implements this, paste the results (or logs) here and I’ll sanity-check the solution.