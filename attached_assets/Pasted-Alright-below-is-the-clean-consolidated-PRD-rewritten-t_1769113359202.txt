Alright — below is the clean, consolidated PRD, rewritten to incorporate all decisions you made, with ambiguity removed and enforcement rules made explicit. This is written so an engineer or product partner can execute without interpretation.

⸻

PRD — Mission Control

Accurate Recommendations, Agent Coverage, Export-to-Implement, and Socrates Learning Loop

⸻

1) Problem Statement

Mission Control’s “What to do next” recommendations are sometimes wrong, misleading, or incomplete because they are generated by individual workers (most notably the SERP keyword worker) instead of being assembled from the full system state.

This creates four systemic failures:
	1.	Incorrect advice
Recommendations are not reconciled with the actual site state, enabled agents, integrations, or historical execution.
	2.	Blocked execution
Recommendations are not copyable, exportable, or implementation-ready while GitHub automation is still maturing.
	3.	Incomplete visibility
The dashboard does not reliably represent which agents are enabled, stale, errored, or contributing.
	4.	No durable learning loop
Agent logs are fragmented, not centrally reasoned over, and not converted into institutional learning that improves future recommendations.

Mission Control must become a trustworthy operating system, not a collection of insights.

⸻

2) Goals and Non-Goals

Goals
	1.	Ensure all recommendations are assembled by Hermes as the source of truth, not by individual workers.
	2.	Make recommendations responsible, paced, and safe, avoiding Google trust penalties from excessive simultaneous changes.
	3.	Support manual execution first via exportable, human-readable reports.
	4.	Provide complete agent coverage visibility (status, freshness, errors, outputs).
	5.	Centralize structured logging into Socrates for audit, debugging, and learning.
	6.	Implement a weekly learning loop where Socrates publishes KBase guidance that all agents must consume.

Non-Goals (This Phase)
	•	Fully automated GitHub PR creation and deployment.
	•	Perfect attribution or omniscient SEO predictions.
	•	BI dashboards or vanity analytics.

⸻

3) System Architecture (High Level)

Core Roles
	•	Hermes
The reasoning and assembly layer. Hermes is the only component allowed to generate final recommendations.
	•	Agents (Workers)
Produce scoped findings and raw recommendations. They never decide final priority.
	•	Major Tom (inside Hermes)
The reconciliation brain that:
	•	Resolves conflicts
	•	Fills prioritization gaps
	•	Applies system rules and KBase doctrine
	•	Socrates
Centralized logging, audit, synthesis, and learning system.

⸻

4) Hermes Recommendation Assembly (Source of Truth)

Inputs Hermes Must Consider

Hermes assembles recommendations using:
	•	Site URL and crawl state
	•	Inferred business type and primary services
	•	Enabled agent outputs
	•	SERP and keyword intelligence
	•	Technical crawl and performance data
	•	Competitive intelligence (if unlocked)
	•	Historical execution (what has already changed)
	•	Agent freshness and error state
	•	KBase doctrine and weekly learnings

No recommendation may bypass Hermes.

⸻

5) Configuration Completeness & Gating

There are no hard blockers for generating recommendations.

Minimum viable input:
	•	A URL that can be crawled

Missing Inputs Handling

Missing inputs never hide recommendations. Instead, Hermes marks affected areas with clear UI states:
	•	Configure (free, not set up)
Examples: GA4, Search Console
Displayed as a blocked overlay on affected metrics (traffic, conversions, clicks).
	•	Unlock / Purchase (paid capability)
Examples: Competitive intelligence, Atlas, Draper, full Hemingway
Displayed as an overlay on the relevant agent section or recommendation group.

Primary service offerings are inferred automatically from crawl + SERP data.

⸻

6) Recommendation Confidence & Responsibility

Every recommendation includes a confidence indicator:
	•	full — all relevant inputs available
	•	degraded — missing signals (clearly indicated)

Recommendations may appear when degraded, but confidence is always visible.

⸻

7) Responsible Change Velocity (Critical Rule)

KBase Doctrine: Change Velocity & Search Trust

Socrates maintains a mandatory KBase article stating:
	•	Excessive simultaneous changes can suppress rankings.
	•	Gradual, staged execution outperforms bulk updates.
	•	Trust is built through consistent, paced improvements.

Hermes Enforcement

Hermes must:
	•	Never recommend executing all fixes at once.
	•	Generate a bounded execution set per cycle.
	•	Auto-produce a phased plan (e.g. “Now / Next / Later” or 3-week plan).
	•	Explain why not everything is recommended immediately.

This rule is non-optional.

⸻

8) Recommendation Object (Canonical Schema)

Each recommendation must include:
	•	id (stable fingerprint)
	•	category
	•	agent source(s)
	•	priority (relative)
	•	confidence (full / degraded)
	•	action (concise imperative)
	•	steps (implementation guidance)
	•	evidence (inputs, URLs, keywords, timestamps)
	•	definition of done
	•	dependencies (configure / purchase / prerequisites)
	•	risks
	•	kbase_refs (doctrine or weekly learnings)
	•	status:
	•	open
	•	acknowledged
	•	exported
	•	applied
	•	invalidated

⸻

9) Recommendation Lifecycle & Feedback

Invalidation
	•	Anyone (internal or user) may invalidate a recommendation.
	•	UX: thumbs up / thumbs down or “mark incorrect”.
	•	Invalidated recommendations:
	•	Do not resurface automatically
	•	Feed Socrates learning
	•	Reduce recurrence of similar advice

Invalidation is feedback, not failure.

⸻

10) Agent Coverage & Defaults

Always On (Free)
	•	SERP
	•	Beacon (authority)
	•	Socrates (mandatory)
	•	Hemingway (titles + blog ideas only)

Bundled as One Agent (Single UI Surface)

Performance & Health Agent
	•	Speedster
	•	Scotty (conditional; may require site changes)
	•	Sentinel (content decay)

Paid / Gated
	•	Natasha (competitive intelligence)
	•	Atlas
	•	Draper
	•	Hemingway full (writing + QA)

Paid agents still influence prioritization even when locked.

Users may collapse or hide sections to reduce noise.

⸻

11) Agent Execution Rules
	•	Agents run weekly automatically.
	•	Runs occur before SERP summary emails.
	•	Manual refresh is always available.
	•	3 consecutive failures → agent marked degraded.
	•	UI overlay on agent and affected recommendations.
	•	Operational email sent to you with context.

Agents are never silently disabled.

⸻

12) Dashboard Requirements

Agent Coverage Panel

For each agent:
	•	Enabled / Locked
	•	Last run time
	•	Freshness status
	•	Error / degraded indicator
	•	Output summary
	•	Link to Socrates logs

This panel is the primary internal debugging surface.

⸻

13) Export & Execution (Manual-First)

Export Format

Primary output:
	•	Human-readable, email-ready text report
	•	Enumerated actions
	•	Evidence and definition of done included

Optional:
	•	PDF attachment if easy to generate

Export is an immutable snapshot.

This supports handoff to developers or Replit without reformatting.

⸻

14) Logging & Observability (Socrates)

Agent Logging (Mandatory)

All agents emit structured logs:
	•	run_started
	•	run_inputs
	•	run_outputs
	•	recommendations_emitted
	•	run_error
	•	run_completed

Missing logs do not block report generation.

Socrates Responsibilities
	•	Ingest all logs
	•	Provide per-site, per-agent, per-recommendation views
	•	Generate weekly synthesis

⸻

15) Weekly KBase Learning Loop

Weekly Automation

Socrates automatically publishes weekly KBase articles:
	•	What worked
	•	What failed
	•	Updated heuristics
	•	Anti-patterns
	•	Change velocity guidance

No human approval required.

Agent Consumption
	•	Agents do not query KBase directly.
	•	Agents ask Hermes.
	•	Hermes enforces KBase usage.
	•	If guidance is missing, recommendation confidence is degraded.

⸻

16) Success Criteria
	•	Recommendations align with real site state.
	•	No bulk, unsafe execution advice.
	•	Operators can export and hand off without friction.
	•	Every recommendation is traceable.
	•	Week-over-week reduction in invalidated recommendations.
	•	System demonstrably improves over time.

⸻

17) Summary

This PRD turns Mission Control into a responsible, auditable, self-improving system:
	•	Hermes assembles truth.
	•	Recommendations are paced, not reckless.
	•	Execution is unblocked today.
	•	Learning compounds weekly.
	•	Trust is preserved by design.

This is no longer an SEO tool.

It is an operating system.